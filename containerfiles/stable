FROM registry.playtron.one/internal/playtronos:1.2.0.12

# Set OS version
COPY rootfs/usr/lib/os-release-playtron /usr/lib/

# https://github.com/playtron-os/rpm-specs-gaming
RUN dnf5 -y upgrade \
  grid-1.33.1-1.fc41 \
  playserve-1.21.0-1 \
  SteamBus-1.27.2-1.fc41

# Clear cache.
RUN dnf5 clean all && \
  rm -r -f /var/cache/*

# View final packages.
RUN rpm -qa | sort

# View how well we adhere to bootc best practices.
RUN bootc container lint --no-truncate
